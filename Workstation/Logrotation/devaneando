# http://www.linuxcommand.org/man_pages/logrotate8.html

# General settings for the logs in the folder
/var/www/logs/*.log {
    weekly
    rotate 14
    nocompress
    missingok
    notifempty
    create 0600 devaneando adm
}

# Nginx or apache access log
/var/www/logs/*.access.log {
    sharedscripts
    prerotate
        if [ -d /etc/logrotate.d/httpd-prerotate ]; then \
            run-parts /etc/logrotate.d/httpd-prerotate; \
        fi \
    endscript
    postrotate
        invoke-rc.d nginx rotate >/dev/null 2>&1
    endscript
}

# Nginx or apache error log
/var/www/logs/*.error.log {
    sharedscripts
    prerotate
        if [ -d /etc/logrotate.d/httpd-prerotate ]; then \
            run-parts /etc/logrotate.d/httpd-prerotate; \
        fi \
    endscript
    postrotate
        invoke-rc.d nginx rotate >/dev/null 2>&1
    endscript
}

# FPM Logs
/var/log/*.fpm.log {
    sharedscripts
    postrotate
        /usr/lib/php/php7.0-fpm-reopenlogs
    endscript
}
